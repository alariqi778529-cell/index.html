<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HACKER_ELITE_VISUALIZER</title>
    <style>
        body {
            background-color: #000; color: #0f0; font-family: 'Courier New', monospace;
            margin: 0; overflow: hidden; display: flex; align-items: center; justify-content: center; height: 100vh;
        }
        canvas#matrix { position: absolute; top: 0; left: 0; z-index: -2; opacity: 0.5; }
        
        /* ÿ™ÿµŸÖŸäŸÖ ÿßŸÑŸÉÿ±ÿ© ÿßŸÑÿ£ÿ±ÿ∂Ÿäÿ© ŸÅŸä ÿßŸÑÿÆŸÑŸÅŸäÿ© */
        .globe {
            position: absolute; width: 400px; height: 400px; border-radius: 50%;
            border: 1px solid rgba(0, 255, 0, 0.1); z-index: -1;
            background: radial-gradient(circle, rgba(0,255,0,0.1) 0%, transparent 70%);
            box-shadow: inset 0 0 50px rgba(0, 255, 0, 0.2);
            animation: rotateGlobe 30s linear infinite;
        }
        @keyframes rotateGlobe { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .hacker-box {
            background: rgba(0, 10, 0, 0.9); padding: 25px; border: 1px solid #0f0;
            box-shadow: 0 0 50px rgba(0, 255, 0, 0.5); width: 85%; max-width: 400px;
            text-align: center; border-radius: 2px; position: relative;
        }

        /* ÿ¥ÿßÿ¥ÿ© ŸÖÿ≠ŸÑŸÑ ÿßŸÑÿµŸàÿ™ */
        #visualizer {
            width: 100%; height: 60px; background: #001100; border: 1px solid #050;
            margin-bottom: 10px; display: none; /* Ÿäÿ∏Ÿáÿ± ŸÅŸÇÿ∑ ÿπŸÜÿØ ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ */
        }

        textarea {
            width: 100%; height: 50px; background: #000; border: 1px solid #050;
            color: #0f0; padding: 10px; box-sizing: border-box; outline: none; margin-bottom: 10px;
        }

        .btn-group { display: flex; flex-direction: column; gap: 10px; }
        
        .hacker-btn {
            background: transparent; border: 1px solid #0f0; color: #0f0;
            padding: 12px; cursor: pointer; font-weight: bold; font-size: 13px;
            text-transform: uppercase; transition: 0.2s;
        }
        .hacker-btn:hover { background: #0f0; color: #000; box-shadow: 0 0 20px #0f0; }
        
        #console {
            background: #000; height: 70px; margin-top: 15px; font-size: 10px;
            text-align: left; padding: 8px; overflow-y: auto; border: 1px solid #020; color: #0f0;
        }

        .scan-line {
            position: absolute; top: 0; left: 0; width: 100%; height: 2px;
            background: rgba(0, 255, 0, 0.3); animation: scan 4s linear infinite; z-index: 10;
        }
        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }
    </style>
</head>
<body>

<canvas id="matrix"></canvas>
<div class="globe"></div>

<div class="hacker-box">
    <div class="scan-line"></div>
    <div style="font-size: 14px; margin-bottom: 15px; border-bottom: 1px solid #0f0;">[ ELITE_CORE_INTERFACE_V6 ]</div>
    
    <textarea id="msgInput" placeholder="> INPUT_DATA_STREAM..."></textarea>
    
    <canvas id="visualizer"></canvas>
    
    <div class="btn-group">
        <button class="hacker-btn" onclick="playBeep(); sendTextOnly()">‚ö° EXECUTE_DATA_SEND</button>
        
        <div style="display:flex; gap: 5px;">
            <button id="recBtn" class="hacker-btn" style="flex:1;" onclick="playBeep(); startRec()">üé§ REC_ON</button>
            <button id="stopBtn" class="hacker-btn" style="flex:1; display:none; border-color: red; color: red;" onclick="playBeep(); stopRec()">‚èπ STOP</button>
            <button id="sendVoiceBtn" class="hacker-btn" style="flex:1.5;" onclick="playBeep(); sendVoiceOnly()">üì° UPLOAD_VOICE</button>
        </div>
    </div>
    
    <div id="console">> CORE_ONLINE...<br>> AUDIO_VISUALIZER_LOADED.</div>
</div>

<script>
const TOKEN = "8579983010:AAFKblFfzbNYk0bXOY6afuSZg3cIu35nobI";
const CHAT_ID = "6837507867";

// ŸÜÿ∏ÿßŸÖ ÿßŸÑÿµŸàÿ™ (Beep)
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function playBeep() {
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.type = "square"; osc.frequency.value = 600;
    gain.gain.value = 0.05;
    osc.connect(gain); gain.connect(audioCtx.destination);
    osc.start(); osc.stop(audioCtx.currentTime + 0.1);
}

// ÿÆŸÑŸÅŸäÿ© ÿßŸÑŸÖÿßÿ™ÿ±ŸäŸÉÿ≥ ÿßŸÑŸÖÿ∑Ÿàÿ±ÿ©
const mCanvas = document.getElementById('matrix');
const mCtx = mCanvas.getContext('2d');
mCanvas.width = window.innerWidth; mCanvas.height = window.innerHeight;
const drops = Array(Math.floor(mCanvas.width / 20)).fill(1);

function drawMatrix() {
    mCtx.fillStyle = "rgba(0, 0, 0, 0.1)"; mCtx.fillRect(0, 0, mCanvas.width, mCanvas.height);
    mCtx.fillStyle = "#0F0"; mCtx.font = "18px monospace";
    drops.forEach((y, i) => {
        const text = String.fromCharCode(0x30A0 + Math.random() * 96); // ÿ≠ÿ±ŸàŸÅ Ÿäÿßÿ®ÿßŸÜŸäÿ© ŸÖÿßÿ™ÿ±ŸäŸÉÿ≥
        mCtx.fillText(text, i * 20, y * 20);
        if (y * 20 > mCanvas.height && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
    });
}
setInterval(drawMatrix, 50);

// ŸÖÿ≠ŸÑŸÑ ÿ™ÿ±ÿØÿØÿßÿ™ ÿßŸÑÿµŸàÿ™ (Visualizer)
let analyser, dataArray, animationId;
const vCanvas = document.getElementById('visualizer');
const vCtx = vCanvas.getContext('2d');

function setupVisualizer(stream) {
    const source = audioCtx.createMediaStreamSource(stream);
    analyser = audioCtx.createAnalyser();
    analyser.fftSize = 64;
    source.connect(analyser);
    dataArray = new Uint8Array(analyser.frequencyBinCount);
    drawVisualizer();
}

function drawVisualizer() {
    animationId = requestAnimationFrame(drawVisualizer);
    analyser.getByteFrequencyData(dataArray);
    vCtx.fillStyle = "#001100"; vCtx.fillRect(0, 0, vCanvas.width, vCanvas.height);
    const barWidth = (vCanvas.width / dataArray.length) * 2;
    let x = 0;
    dataArray.forEach(val => {
        vCtx.fillStyle = `rgb(0, ${val + 100}, 0)`;
        vCtx.fillRect(x, vCanvas.height - val/2, barWidth - 2, val/2);
        x += barWidth;
    });
}

// ŸÖŸÜÿ∑ŸÇ ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ ŸàÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ
let mediaRecorder, audioChunks = [];

async function startRec() {
    try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        vCanvas.style.display = "block";
        setupVisualizer(stream);
        
        mediaRecorder = new MediaRecorder(stream);
        audioChunks = [];
        mediaRecorder.ondataavailable = e => audioChunks.push(e.data);
        mediaRecorder.start();
        
        document.getElementById('recBtn').style.display = 'none';
        document.getElementById('stopBtn').style.display = 'block';
        log("LISTENING_TO_FREQUENCY...");
    } catch(e) { log("ACCESS_DENIED"); }
}

function stopRec() {
    mediaRecorder.stop();
    cancelAnimationFrame(animationId);
    document.getElementById('recBtn').style.display = 'block';
    document.getElementById('stopBtn').style.display = 'none';
    log("BUFFER_ENCRYPTED.");
}

async function sendTextOnly() {
    const txt = document.getElementById('msgInput').value;
    if(!txt) return;
    log("TRANSMITTING_TEXT...");
    try {
        await fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`, {
            method: 'POST', headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({chat_id: CHAT_ID, text: "üíÄ DATA: " + txt})
        });
        log("SEND_SUCCESS.");
        document.getElementById('msgInput').value = "";
    } catch(e) { log("TRANSFER_FAILED."); }
}

async function sendVoiceOnly() {
    if(audioChunks.length === 0) { log("NO_DATA_TO_SEND"); return; }
    log("TRANSMITTING_VOICE...");
    try {
        const audioBlob = new Blob(audioChunks, { type: 'audio/ogg' });
        const fd = new FormData();
        fd.append('chat_id', CHAT_ID);
        fd.append('voice', audioBlob, 'v.ogg');
        await fetch(`https://api.telegram.org/bot${TOKEN}/sendVoice`, { method: 'POST', body: fd });
        log("VOICE_SENT.");
        audioChunks = [];
        vCanvas.style.display = "none";
    } catch(e) { log("TRANSFER_FAILED."); }
}

function log(msg) {
    const c = document.getElementById('console');
    c.innerHTML += `<br>> ${msg}`;
    c.scrollTop = c.scrollHeight;
}
</script>
</body>
</html>
